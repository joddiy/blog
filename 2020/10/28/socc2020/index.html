
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Jz Blog">
    <title>socc2020 - Jz Blog</title>
    <meta name="author" content="Joddiy Zhang">
    
    
        <link rel="icon" href="https://joddiy.github.io/assets/images/favicon.ico">
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Joddiy Zhang","sameAs":["https://github.com/joddiy","https://scholar.google.com/citations?user=KH-xv38AAAAJ&hl=en&oi=sra","https://www.linkedin.com/in/joddiyzhang/"],"image":"14108933.jpeg"},"articleBody":"WuKong: In Search of a Fast and Efficient Serverless DAG EngineA serverless-oriented, decentralized, datalocality aware DAG engine\n\nminimize the network communication overhead while maximizing data locality whenever possible.\n\ndecentralized scheduling where a DAG is partitioned into sub-graphs that are distributed to separate task executors\n\nprovides efficient storage mechanisms for managing intermediate data\n\n\nA Jounrney from the serverful to the serverless\n\n\nA Strawman Scheduler\n\nPerformance bottlenecks: the large number of concurrent TCP connection requests is easy to overwhelm the scheduler.\n\n\nPublish&#x2F;Subscribe Model\n\nSending task completion messages through pub&#x2F;sub channels was more efficient than using a large number of concurrent TCP connections.\n\nstruggles to launch Lambda functions quickly enough for large, bursty workloads due to the large cost of invoking a Lambda function.\n\n\n\n+Parallel Invokers\n\n\nWuKong desigen\n\n\n\n\nStatic Scheduling\n\nA static schedule contains three types of operations: task execution, fan-in, and fan-out.\n\nTwo leaf nodes implies two static schedule, blue and read.\n\nT1, T2, T3, T5.\n\n\n\nDynamic Scheduling\n\nScheduling conflict zone between static schedules.\n\ndependency counter.\n\nT4, T6.\n\n\n\nStorage Management\n\nTask Executors publish their intermediate and final task output objects to the KV Store. \n\nFinal outputs are relayed to a Subscriber process in the Scheduler for presentation to the Client.\n\nSmall Fan-out Task Invocations are handled by task itself.\n\nLarge Fan-out Task Invocations are handled by KVS.\n\n\n\n\nNotes\ndoesn’t consider the code-start issue.\n\nAs mentioned earlier, serverless computing suffers from cold starts. We address this issue by warming up a pool of Lambdas.\n\n\nonly works when computation latency outweighs invocation latency between the two lambdas.\n\nmethods:\n\n\n\nDecentralization of Task Executors \n\nParallel-Invoker\n\nKV Store Proxy\n\n\n\n\n\n\n\nSequoia: Enabling Quality-of-Service in Serverless ComputingSequoia is designed as a drop-in framework that improves overall management by enabling QoS in a lightweight and low overhead manner.\nLimitations with the current serverless platform:\nInconsistent and incorrect concurrency limits\n\nDefault concurrency limits are documented to be 1,000, but up to 1,200 concurrent functions are run in paralle.\n\n\nMid-chain drops\n\nA burst of 1,000 Fan-2’s will ultimately result in 2,000 concurrent functions, only 48-54% chains successfully\n\n\n\ncompleting.\n\nBurst intolerance\n\nSignificant losses occur when burst due to the cold start issue.\n\n\nHTTP prioritization\n\nHTTP has a higher priority than background invocations.\n\n\nInefficient resource allocation\n\nVM&#x2F;container pool leads to inefficient resource allocation.\n\n\nConcurrency collapse\n\nConcurrency reaches the limit but then drops and does not immediately recover.\n\n\n\nSequoia desigen\n\n\nQoS Scheduler\n\nenqueue DAGs to Pending Queue (PQ), enqueue each nodes of DAGs to Chain Running Queue (CRQ).\n\nWorker Threads in the thread pool are the main driver. When a thread schedules a function it blocks until its function completes and afterwards makes itself available to the thread pool.\n\n\n\nLogging Framework\n\nstate information from live metric streams\n\n\nPolicy Framework\n\nan entry point to add, remove, or alter policies in the system.\n\n\n\nNotes\nWe can use a thread pool to manage the concurrency more precisely.\n\nKappa: A Programming Framework for Serverless ComputingKappa is a framework that simplifies serverless development by providing a familiar programming model. \nIt uses checkpointing to handle lambda function timeouts, and provides concurrency mechanisms that enable parallel computation and coordination.\nKappa desigen\n\n\nCheckpointing\n\nTo run long tasks on time-bounded lambdas, Kappa checkpoints program state periodically and restores from this checkpoint upon lambda function timeout.\n\n\nConcurrency API\n\nTo program parallel lambdas, Kappa provides a concurrency API which is modeled after Python’s built-in multiprocessing package and should be familiar to programmers.\n\n\nFault tolerance\n\nUsing checkpoints, Kappa ensures that execution never diverges due to nondeterminism.\n\n\n\nCheckpoint latency\n\nFor 1M size checkpoint, the latency is 80ms for S3 and 6ms for Redis.\nNotes\nCheckpoint is not necessary for most serverless application. Parallel composition is more common.\n\nDue to the low cost of servlerss computing, failure-retry is more efficient tahn checkpoint.\n\nRedis is faster than S3.\n\n\nPhotons: Lambdas on a dietPhotons is a framework leveraging workload parallelism to co-locate multiple instances of the same function within the same runtime. \nConcurrent invocations can then share the runtime and application state transparently, without compromising execution safety.\nPhotons desigen\n\n\nVertical and horizontal scaling\n\nVertical scaling: scheduled on the same machine\n\nHorizontal scaling: scheduled on another machine\n\ndrawback: invocations infect each other and resource contention.\n\na good scale policy is hard for user.\n\n\n\n\nEvalution\nMemory\n\n\n\n\nCold starts\n\n\n\n\nperformance cost tradeoff\n\n\n\nNotes\nThis approach sacrifices the auto-scale ability.\n\nServerlessBench: Characterizing Serverless Platforms with ServerlessBenchServerlessBench is an open-source benchmark suite for characterizing serverless platforms. \n\nfour critical metrics\n\nCommunication performance.\n\nStartup latency.\n\nStateless execution.\n\nResource efficiency and performance isolation.\n\n\n\n12 test cases\n\n\n\n\n\nTest Cases and NotesTestCase1: Varied resource needs.\nThese results suggest that splitting the application and provision appropriate amount of resources to the composing functions can save costs with a small additional communication overhead.\n\n\nTestCase2: Parallel composition.\nNotice that the in-function parallelization does not perform as well as inter-function parallelization.\nThis is because serverless platforms restrict the computing resources (e.g., vCPUs) that can be allocated to a function instance.\n\n\nTestCase8: Function size comparison.\nFunctions with larger code sizes suffer from longer startup latency.\nServerless application only imports the minimal needed packages and packs only necessary dependencies.\n\n\n\nTestCase11: Memory bandwidth contention.TestCase12: CPU contention.\nThere exists resource contention between serverless applications running on the same machine.\n\n\n\n\n\n\nConclusion\nDecentralization of task executors.\n\nUsing a thread pool to manage the concurrency more precisely.\n\nPerformance cost tradeoff. \n\nAs AWS Lambda provides vCPUs in proportion to the provisioned memory size.\n\nLess CPU means less memory, so spliting the model into slices can reduce the memory. \n\nSame execution time but less cost.\n\n\n\n\n\n\n\nProbability model. Model split optimization based on latency probability.\n\n\n\n\nTraining\n\n\n\n\nLow cost: split model into slices, less memory but same execution time. \n\nstateless: each lambda holds a small model slices and only has a sample task, either fwd or bwd. \n\nno memory swap in and out\n\n\nsupport distributed training.\n\n\n","dateCreated":"2020-10-28T04:17:38+08:00","dateModified":"2020-11-25T14:58:05+08:00","datePublished":"2020-10-28T04:17:38+08:00","description":"Paper summary for SoCC 2020","headline":"socc2020","image":["https://1.bp.blogspot.com/-cLxpo2BA8oI/XZMQrDSXefI/AAAAAAAAnhs/7FS6r94KFNQFzVt_8Ihx1iyTltt7if_xgCLcBGAsYHQ/s1600/TensorFlow%2B2.0%2BLogo.png","https://www.eetasia.com/wp-content/uploads/sites/2/images/c806bc6b-a80c-4ed7-808e-3cc362811e28.jpg"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://joddiy.github.io/2020/10/28/socc2020/"},"publisher":{"@type":"Organization","name":"Joddiy Zhang","sameAs":["https://github.com/joddiy","https://scholar.google.com/citations?user=KH-xv38AAAAJ&hl=en&oi=sra","https://www.linkedin.com/in/joddiyzhang/"],"image":"14108933.jpeg","logo":{"@type":"ImageObject","url":"14108933.jpeg"}},"url":"https://joddiy.github.io/2020/10/28/socc2020/","keywords":"Tools, Deep Learning","thumbnailUrl":"https://1.bp.blogspot.com/-cLxpo2BA8oI/XZMQrDSXefI/AAAAAAAAnhs/7FS6r94KFNQFzVt_8Ihx1iyTltt7if_xgCLcBGAsYHQ/s1600/TensorFlow%2B2.0%2BLogo.png"}</script>
    <meta name="description" content="Paper summary for SoCC 2020">
<meta property="og:type" content="blog">
<meta property="og:title" content="socc2020">
<meta property="og:url" content="https://joddiy.github.io/2020/10/28/socc2020/index.html">
<meta property="og:site_name" content="Jz Blog">
<meta property="og:description" content="Paper summary for SoCC 2020">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/1.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/2.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/3.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/5.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/6.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/4.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/7.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/8.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/9.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/10.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/11.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/12.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/13.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/14.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/15.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/16.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/17.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/18.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/12.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/6.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/19.png">
<meta property="og:image" content="https://joddiy.github.io/2020/10/28/socc2020/20.png">
<meta property="article:published_time" content="2020-10-27T20:17:38.000Z">
<meta property="article:modified_time" content="2020-11-25T06:58:05.000Z">
<meta property="article:author" content="Joddiy Zhang">
<meta property="article:tag" content="Tools">
<meta property="article:tag" content="Deep Learning">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://joddiy.github.io/2020/10/28/socc2020/1.png">
    
    
        
    
    
        <meta property="og:image" content="https://joddiy.github.io/assets/images/14108933.jpeg"/>
    
    
        <meta property="og:image" content="https://1.bp.blogspot.com/-cLxpo2BA8oI/XZMQrDSXefI/AAAAAAAAnhs/7FS6r94KFNQFzVt_8Ihx1iyTltt7if_xgCLcBGAsYHQ/s1600/TensorFlow%2B2.0%2BLogo.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://1.bp.blogspot.com/-cLxpo2BA8oI/XZMQrDSXefI/AAAAAAAAnhs/7FS6r94KFNQFzVt_8Ihx1iyTltt7if_xgCLcBGAsYHQ/s1600/TensorFlow%2B2.0%2BLogo.png"/>
    
    
        <meta property="og:image" content="https://www.eetasia.com/wp-content/uploads/sites/2/images/c806bc6b-a80c-4ed7-808e-3cc362811e28.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://www.eetasia.com/wp-content/uploads/sites/2/images/c806bc6b-a80c-4ed7-808e-3cc362811e28.jpg"/>
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-x8blglznjjnb9pnnwui5zw4h43ysufmsh1b0omicawm4vhqcutzqavokgpne.min.css">

    <!--STYLES END-->
    

    

    
        
            
<link rel="stylesheet" href="/assets/css/gitalk.css">

        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Jz Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/14108933.jpeg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/14108933.jpeg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Joddiy Zhang</h4>
                
                    <h5 class="sidebar-profile-bio"><p><a href="mailto:&#x6a;&#x6f;&#100;&#100;&#x69;&#x79;&#122;&#104;&#x61;&#x6e;&#x67;&#x40;&#103;&#x6d;&#97;&#105;&#x6c;&#x2e;&#99;&#x6f;&#x6d;">&#x6a;&#x6f;&#100;&#100;&#x69;&#x79;&#122;&#104;&#x61;&#x6e;&#x67;&#x40;&#103;&#x6d;&#97;&#105;&#x6c;&#x2e;&#99;&#x6f;&#x6d;</a></p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/joddiy"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://scholar.google.com/citations?user=KH-xv38AAAAJ&hl=en&oi=sra"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Google Scholar"
                        >
                        <i class="sidebar-button-icon fab fa-google" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google Scholar</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/in/joddiyzhang/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
        <div class="post-header-cover
                    text-center
                    post-header-cover--partial"
             style="background-image:url('https://www.eetasia.com/wp-content/uploads/sites/2/images/c806bc6b-a80c-4ed7-808e-3cc362811e28.jpg');"
             data-behavior="4">
            
                <div class="post-header main-content-wrap text-center">
    
        <h1 class="post-title">
            socc2020
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-10-28T04:17:38+08:00">
	
		    Oct 28, 2020
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Study-Notes/">Study Notes</a>


    
</div>

    
</div>

            
        </div>

            <div id="main" data-behavior="4"
                 class="hasCover
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h1 id="WuKong-In-Search-of-a-Fast-and-Efficient-Serverless-DAG-Engine"><a href="#WuKong-In-Search-of-a-Fast-and-Efficient-Serverless-DAG-Engine" class="headerlink" title="WuKong: In Search of a Fast and Efficient Serverless DAG Engine"></a>WuKong: In Search of a Fast and Efficient Serverless DAG Engine</h1><p>A serverless-oriented, <strong>decentralized, datalocality aware</strong> DAG engine</p>
<ul>
<li><p>minimize the network communication overhead while maximizing data locality whenever possible.</p>
</li>
<li><p>decentralized scheduling where a DAG is partitioned into sub-graphs that are distributed to separate task executors</p>
</li>
<li><p>provides efficient storage mechanisms for managing intermediate data</p>
</li>
</ul>
<h2 id="A-Jounrney-from-the-serverful-to-the-serverless"><a href="#A-Jounrney-from-the-serverful-to-the-serverless" class="headerlink" title="A Jounrney from the serverful to the serverless"></a>A Jounrney from the serverful to the serverless</h2><img src="1.png" style="width:800px;"/>

<ul>
<li><p>A Strawman Scheduler</p>
<ul>
<li>Performance bottlenecks: the large number of concurrent TCP connection requests is easy to overwhelm the scheduler.</li>
</ul>
</li>
<li><p>Publish&#x2F;Subscribe Model</p>
<ul>
<li><p>Sending task completion messages through pub&#x2F;sub channels was more efficient than using a large number of concurrent TCP connections.</p>
</li>
<li><p>struggles to launch Lambda functions quickly enough for large, bursty workloads due to the large cost of invoking a Lambda function.</p>
</li>
</ul>
</li>
<li><p>+Parallel Invokers</p>
</li>
</ul>
<h2 id="WuKong-desigen"><a href="#WuKong-desigen" class="headerlink" title="WuKong desigen"></a>WuKong desigen</h2><img src="2.png" style="width:600px;"/>

<img src="3.png" style="width:600px;"/>

<ul>
<li><p>Static Scheduling</p>
<ul>
<li><p>A static schedule contains three types of operations: task execution, fan-in, and fan-out.</p>
</li>
<li><p>Two leaf nodes implies two static schedule, blue and read.</p>
</li>
<li><p>T1, T2, T3, T5.</p>
</li>
</ul>
</li>
<li><p>Dynamic Scheduling</p>
<ul>
<li><p>Scheduling conflict zone between static schedules.</p>
</li>
<li><p>dependency counter.</p>
</li>
<li><p>T4, T6.</p>
</li>
</ul>
</li>
<li><p>Storage Management</p>
<ul>
<li><p>Task Executors publish their intermediate and final task output objects to the KV Store. </p>
</li>
<li><p>Final outputs are relayed to a Subscriber process in the Scheduler for presentation to the Client.</p>
</li>
<li><p>Small Fan-out Task Invocations are handled by task itself.</p>
</li>
<li><p>Large Fan-out Task Invocations are handled by KVS.</p>
</li>
</ul>
</li>
</ul>
<h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><ol>
<li><p>doesn’t consider the code-start issue.</p>
<ul>
<li>As mentioned earlier, serverless computing suffers from cold starts. We address this issue by warming up a pool of Lambdas.</li>
</ul>
</li>
<li><p>only works when computation latency outweighs invocation latency between the two lambdas.</p>
</li>
<li><p>methods:</p>
</li>
</ol>
<ul>
<li><p>Decentralization of Task Executors </p>
</li>
<li><p>Parallel-Invoker</p>
</li>
<li><p>KV Store Proxy</p>
</li>
</ul>
<img src="5.png" style="width:800px;"/>

<!-- <img src="6.png" style="width:800px;"/> -->


<h1 id="Sequoia-Enabling-Quality-of-Service-in-Serverless-Computing"><a href="#Sequoia-Enabling-Quality-of-Service-in-Serverless-Computing" class="headerlink" title="Sequoia: Enabling Quality-of-Service in Serverless Computing"></a>Sequoia: Enabling Quality-of-Service in Serverless Computing</h1><p>Sequoia is designed as a drop-in framework that improves overall management by enabling QoS in a lightweight and low overhead manner.</p>
<h2 id="Limitations-with-the-current-serverless-platform"><a href="#Limitations-with-the-current-serverless-platform" class="headerlink" title="Limitations with the current serverless platform:"></a>Limitations with the current serverless platform:</h2><ul>
<li><p>Inconsistent and incorrect concurrency limits</p>
<ul>
<li>Default concurrency limits are documented to be 1,000, but up to 1,200 concurrent functions are run in paralle.</li>
</ul>
</li>
<li><p>Mid-chain drops</p>
<ul>
<li>A burst of 1,000 Fan-2’s will ultimately result in 2,000 concurrent functions, only 48-54% chains successfully</li>
</ul>
</li>
</ul>
<p>completing.</p>
<ul>
<li><p>Burst intolerance</p>
<ul>
<li>Significant losses occur when burst due to the cold start issue.</li>
</ul>
</li>
<li><p>HTTP prioritization</p>
<ul>
<li>HTTP has a higher priority than background invocations.</li>
</ul>
</li>
<li><p>Inefficient resource allocation</p>
<ul>
<li>VM&#x2F;container pool leads to inefficient resource allocation.</li>
</ul>
</li>
<li><p>Concurrency collapse</p>
<ul>
<li>Concurrency reaches the limit but then drops and does not immediately recover.</li>
</ul>
</li>
</ul>
<h2 id="Sequoia-desigen"><a href="#Sequoia-desigen" class="headerlink" title="Sequoia desigen"></a>Sequoia desigen</h2><img src="4.png" style="width:700px;"/>

<ul>
<li><p>QoS Scheduler</p>
<ul>
<li><p>enqueue DAGs to Pending Queue (PQ), enqueue each nodes of DAGs to Chain Running Queue (CRQ).</p>
</li>
<li><p>Worker Threads in the thread pool are the main driver. When a thread schedules a function it blocks until its function completes and afterwards makes itself available to the thread pool.</p>
</li>
</ul>
</li>
<li><p>Logging Framework</p>
<ul>
<li>state information from live metric streams</li>
</ul>
</li>
<li><p>Policy Framework</p>
<ul>
<li>an entry point to add, remove, or alter policies in the system.</li>
</ul>
</li>
</ul>
<h2 id="Notes-1"><a href="#Notes-1" class="headerlink" title="Notes"></a>Notes</h2><ol>
<li>We can use a thread pool to manage the concurrency more precisely.</li>
</ol>
<h1 id="Kappa-A-Programming-Framework-for-Serverless-Computing"><a href="#Kappa-A-Programming-Framework-for-Serverless-Computing" class="headerlink" title="Kappa: A Programming Framework for Serverless Computing"></a>Kappa: A Programming Framework for Serverless Computing</h1><p>Kappa is a framework that simplifies serverless development by providing a familiar programming model. </p>
<p>It uses checkpointing to handle lambda function timeouts, and provides concurrency mechanisms that enable parallel computation and coordination.</p>
<h2 id="Kappa-desigen"><a href="#Kappa-desigen" class="headerlink" title="Kappa desigen"></a>Kappa desigen</h2><img src="7.png" style="width:700px;"/>

<ul>
<li><p>Checkpointing</p>
<ul>
<li>To run long tasks on time-bounded lambdas, Kappa checkpoints program state periodically and restores from this checkpoint upon lambda function timeout.</li>
</ul>
</li>
<li><p>Concurrency API</p>
<ul>
<li>To program parallel lambdas, Kappa provides a concurrency API which is modeled after Python’s built-in multiprocessing package and should be familiar to programmers.</li>
</ul>
</li>
<li><p>Fault tolerance</p>
<ul>
<li>Using checkpoints, Kappa ensures that execution never diverges due to nondeterminism.</li>
</ul>
</li>
</ul>
<h2 id="Checkpoint-latency"><a href="#Checkpoint-latency" class="headerlink" title="Checkpoint latency"></a>Checkpoint latency</h2><img src="8.png" style="width:800px;"/>

<p>For 1M size checkpoint, the latency is 80ms for S3 and 6ms for Redis.</p>
<h2 id="Notes-2"><a href="#Notes-2" class="headerlink" title="Notes"></a>Notes</h2><ol>
<li><p>Checkpoint is not necessary for most serverless application. Parallel composition is more common.</p>
</li>
<li><p>Due to the low cost of servlerss computing, failure-retry is more efficient tahn checkpoint.</p>
</li>
<li><p>Redis is faster than S3.</p>
</li>
</ol>
<h1 id="Photons-Lambdas-on-a-diet"><a href="#Photons-Lambdas-on-a-diet" class="headerlink" title="Photons: Lambdas on a diet"></a>Photons: Lambdas on a diet</h1><p>Photons is a framework leveraging workload parallelism to co-locate multiple instances of the same function within the same runtime. </p>
<p>Concurrent invocations can then share the runtime and application state transparently, without compromising execution safety.</p>
<h2 id="Photons-desigen"><a href="#Photons-desigen" class="headerlink" title="Photons desigen"></a>Photons desigen</h2><img src="9.png" style="width:500px;"/>

<ul>
<li><p>Vertical and horizontal scaling</p>
<ul>
<li><p>Vertical scaling: scheduled on the same machine</p>
</li>
<li><p>Horizontal scaling: scheduled on another machine</p>
</li>
<li><p>drawback: invocations infect each other and resource contention.</p>
</li>
<li><p>a good scale policy is hard for user.</p>
</li>
</ul>
</li>
</ul>
<h2 id="Evalution"><a href="#Evalution" class="headerlink" title="Evalution"></a>Evalution</h2><ul>
<li>Memory</li>
</ul>
<img src="10.png" style="width:500px;"/>

<ul>
<li>Cold starts</li>
</ul>
<img src="11.png" style="width:500px;"/>

<ul>
<li>performance cost tradeoff</li>
</ul>
<!-- <img src="12.png" style="width:500px;"/> -->

<h2 id="Notes-3"><a href="#Notes-3" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>This approach sacrifices the auto-scale ability.</li>
</ul>
<h1 id="ServerlessBench-Characterizing-Serverless-Platforms-with-ServerlessBench"><a href="#ServerlessBench-Characterizing-Serverless-Platforms-with-ServerlessBench" class="headerlink" title="ServerlessBench: Characterizing Serverless Platforms with ServerlessBench"></a>ServerlessBench: Characterizing Serverless Platforms with ServerlessBench</h1><p>ServerlessBench is an open-source benchmark suite for characterizing serverless platforms. </p>
<ul>
<li><p>four critical metrics</p>
<ul>
<li><p>Communication performance.</p>
</li>
<li><p>Startup latency.</p>
</li>
<li><p>Stateless execution.</p>
</li>
<li><p>Resource efficiency and performance isolation.</p>
</li>
</ul>
</li>
<li><p>12 test cases</p>
</li>
</ul>
<img src="13.png" style="width:800px;"/>


<h2 id="Test-Cases-and-Notes"><a href="#Test-Cases-and-Notes" class="headerlink" title="Test Cases and Notes"></a>Test Cases and Notes</h2><p>TestCase1: Varied resource needs.</p>
<p>These results suggest that splitting the application and provision appropriate amount of resources to the composing functions can save costs with a small additional communication overhead.</p>
<img src="14.png" style="width:600px;"/>

<p>TestCase2: Parallel composition.</p>
<p>Notice that the in-function parallelization does not perform as well as inter-function parallelization.</p>
<p>This is because serverless platforms restrict the computing resources (e.g., vCPUs) that can be allocated to a function instance.</p>
<img src="15.png" style="width:600px;"/>

<p>TestCase8: Function size comparison.</p>
<p>Functions with larger code sizes suffer from longer startup latency.</p>
<p>Serverless application only imports the minimal needed packages and packs only necessary dependencies.</p>
<img src="16.png" style="width:600px;"/>


<p>TestCase11: Memory bandwidth contention.<br>TestCase12: CPU contention.</p>
<p>There exists resource contention between serverless applications running on the same machine.</p>
<img src="17.png" style="width:600px;"/>

<img src="18.png" style="width:600px;"/>

<!-- double-bill -->

<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><ul>
<li><p>Decentralization of task executors.</p>
</li>
<li><p>Using a thread pool to manage the concurrency more precisely.</p>
</li>
<li><p>Performance cost tradeoff. </p>
<ul>
<li><p>As AWS Lambda provides vCPUs in proportion to the provisioned memory size.</p>
</li>
<li><p>Less CPU means less memory, so spliting the model into slices can reduce the memory. </p>
</li>
<li><p>Same execution time but less cost.</p>
</li>
</ul>
</li>
</ul>
<img src="12.png" style="width:600px;"/>

<ul>
<li>Probability model. Model split optimization based on latency probability.</li>
</ul>
<img src="6.png" style="width:800px;"/>


<h2 id="Training"><a href="#Training" class="headerlink" title="Training"></a>Training</h2><img src="19.png" style="width:800px;"/>

<img src="20.png" style="width:600px;"/>

<ol>
<li><p>Low cost: split model into slices, less memory but same execution time. </p>
</li>
<li><p>stateless: each lambda holds a small model slices and only has a sample task, either fwd or bwd. </p>
<ul>
<li>no memory swap in and out</li>
</ul>
</li>
<li><p>support distributed training.</p>
</li>
</ol>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Deep-Learning/" rel="tag">Deep Learning</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/Tools/" rel="tag">Tools</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/02/03/Weights-Zero/"
                    data-tooltip="Weights Zero"
                    aria-label="PREVIOUS: Weights Zero"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/10/07/Serverless-Paper-Draft/"
                    data-tooltip="Serverless Paper Draft"
                    aria-label="NEXT: Serverless Paper Draft"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://joddiy.github.io/2020/10/28/socc2020/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://joddiy.github.io/2020/10/28/socc2020/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://joddiy.github.io/2020/10/28/socc2020/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#gitalk"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="gitalk"></div>

            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2024 Joddiy Zhang. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/02/03/Weights-Zero/"
                    data-tooltip="Weights Zero"
                    aria-label="PREVIOUS: Weights Zero"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/10/07/Serverless-Paper-Draft/"
                    data-tooltip="Serverless Paper Draft"
                    aria-label="NEXT: Serverless Paper Draft"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://joddiy.github.io/2020/10/28/socc2020/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://joddiy.github.io/2020/10/28/socc2020/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://joddiy.github.io/2020/10/28/socc2020/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#gitalk"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://joddiy.github.io/2020/10/28/socc2020/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://joddiy.github.io/2020/10/28/socc2020/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://joddiy.github.io/2020/10/28/socc2020/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/14108933.jpeg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Joddiy Zhang</h4>
        
            <div id="about-card-bio"><p><a href="mailto:&#x6a;&#111;&#100;&#x64;&#105;&#x79;&#x7a;&#x68;&#x61;&#x6e;&#x67;&#x40;&#x67;&#x6d;&#97;&#105;&#x6c;&#46;&#99;&#111;&#x6d;">&#x6a;&#111;&#100;&#x64;&#105;&#x79;&#x7a;&#x68;&#x61;&#x6e;&#x67;&#x40;&#x67;&#x6d;&#97;&#105;&#x6c;&#46;&#99;&#111;&#x6d;</a></p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Machine Learning Engineer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Singapore
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-sqrh47zm5nkjgifq4rx38uvns4r2rarrrvwuhjxiztyrddruca5ukl7nw6br.min.js"></script>

<!--SCRIPTS END-->


    
        
<script src="/assets/js/gitalk.js"></script>

        <script type="text/javascript">
          (function() {
            new Gitalk({
              clientID: 'bee9685b2dc9739b6bd5',
              clientSecret: 'a0c683f383a94fae6d021ab932f37f7e56899410',
              repo: 'joddiy.github.io',
              owner: 'joddiy',
              admin: ['joddiy'],
              id: '2020/10/28/socc2020/',
              ...{"language":"en","perPage":10,"distractionFreeMode":false,"enableHotKey":true,"pagerDirection":"first"}
            }).render('gitalk')
          })()
        </script>
    




    </body>
</html>
